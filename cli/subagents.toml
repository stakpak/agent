[subagents.DiscoveryAgent]
description = """
Research and Discovery agent with safe command execution in an isolated read-only environment. 
Perfect for tasks requiring system inspection, file analysis, or running diagnostic commands while maintaining safety.
Includes read-only access to cloud credentials (AWS, GCP, Azure, DigitalOcean) and your working directory.
Tools: stakpak__run_command, stakpak__view, stakpak__search_docs, stakpak__search_memory, stakpak__read_rulebook, stakpak__paks__search_paks, stakpak__paks__get_pak_content
"""
model = "eco"
max_steps = 30
allowed_tools = [
    "stakpak__run_command",
    "stakpak__view",
    "stakpak__search_docs",
    "stakpak__search_memory",
    "stakpak__read_rulebook",
    "stakpak__paks__search_paks",
    "stakpak__paks__get_pak_content",
]

[subagents.DiscoveryAgent.warden]
enabled = true
volumes = [
    # stakpak config
    "~/.stakpak/config.toml:/home/agent/.stakpak/config.toml:ro",

    # working directory
    "./:/agent:ro",
    "./.stakpak:/agent/.stakpak",

    # cloud credentials
    "~/.aws:/home/agent/.aws:ro",
    "~/.config/gcloud:/home/agent/.config/gcloud:ro",
    "~/.digitalocean:/home/agent/.digitalocean:ro",
    "~/.azure:/home/agent/.azure:ro",
    "~/.kube:/home/agent/.kube:ro",
]
